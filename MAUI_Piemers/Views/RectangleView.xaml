<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:MAUI_Piemers.ViewModel"
             x:Class="MAUI_Piemers.Views.RectangleView"
             x:Name="RootPage"
             Title="RectangleView">
    <VerticalStackLayout>
        <Label 
            Text="Izveidot taisnstūri!"
            VerticalOptions="Center" 
            HorizontalOptions="Center" />
   <HorizontalStackLayout>
            <Label Text="X: "></Label>
            <Entry x:Name="txtX" Text="{Binding Width}"></Entry>
        </HorizontalStackLayout>
            <HorizontalStackLayout>
            <Label Text="Y: "></Label>
            <Entry x:Name="txtY" Text="{Binding Height}"></Entry>
        </HorizontalStackLayout>
        <HorizontalStackLayout>
            <Label Text="Krāsa: "></Label>
            <Picker x:Name="cboKrasa" ItemsSource="{Binding ColorValues}" SelectedItem="{Binding SelectedColor}"></Picker>
        </HorizontalStackLayout>
        <HorizontalStackLayout>
            <Label Text="Nosaukums: "></Label>
            <Entry x:Name="txtNosaukums" Text="{Binding Name}"></Entry>
        </HorizontalStackLayout>
        <Button Text="{Binding SubmitButtonText}" Command="{Binding addRectangleCommand}"></Button>
        <Button Text="Delete" IsVisible="{Binding IsDeleteVisible}" Command="{Binding deleteCommand}"></Button>
        <Label      Text="{Binding Info}"></Label>
        <CollectionView ItemsSource="{Binding RectangleList}"  SelectionMode="Single" SelectedItem="{Binding SelectedRectangle}">
            <CollectionView.ItemTemplate >
                <DataTemplate>
                    <!--   Command="{Binding Source={x:Reference RootPage}, Path=BindingContext.itemSelectedCommand}"-->
                    <!--      Command="{Binding Source={RelativeSource AncestorType={x:Type local:RectanglesViewModelLite}}, Path=itemSelectedCommand}" -->
                    <!--      Command="{Binding Source={RelativeSource AncestorType={x:Type local:RectanglesViewModelEF}}, Path=itemSelectedCommand}" -->
                  <!--  <Button Text="{Binding}" BackgroundColor="LightGray"
                            Command="{Binding Source={RelativeSource AncestorType={x:Type local:RectanglesViewModelEF}}, Path=itemSelectedParamCommand}"
                             CommandParameter="{Binding}"></Button>-->
                    <Frame Padding="10" Margin="3" BackgroundColor="LightGray">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer 
                                  Command="{Binding Source={RelativeSource AncestorType={x:Type local:RectanglesViewModelLite}}, Path=itemSelectedParamCommand}"
                                    CommandParameter="{Binding}" />
                        </Frame.GestureRecognizers>
                        <Label Text="{Binding}" />
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>